var canvas=document.createElement("canvas");canvas.style.display="block";var height=canvas.height=window.innerHeight,width=canvas.width=window.innerWidth;document.querySelector("body").appendChild(canvas);var c=canvas.getContext("2d"),mouseX=null,mouseY=null;window.addEventListener("mousemove",function(t){mouseX=t.screenX,mouseY=t.screenY},!1);var dx,dy,color=["hsl(0,100%,70%)","hsl(40,100%,70%)","hsl(80,100%,70%)","hsl(120,100%,70%)","hsl(160,100%,70%)","hsl(190,100%,70%)","hsl(230,100%,70%)","hsl(270,100%,70%)","hsl(300,100%,70%)","hsl(350,100%,70%)","hsl(40,100%,50%)","hsl(80,100%,50%)","hsl(120,100%,50%)","hsl(160,100%,50%)","hsl(190,100%,50%)","hsl(230,100%,50%)","hsl(270,100%,50%)","hsl(300,100%,50%)","hsl(350,100%,50%)","hsl(80,100%,30%)","hsl(120,100%,30%)","hsl(160,100%,30%)","hsl(190,100%,30%)","hsl(230,100%,30%)","hsl(270,100%,30%)","hsl(300,100%,30%)","hsl(350,100%,30%)"];dy=20,dx=20;var x=null,y=null,Ball=function(t,e,i,h,r){this.rad=i;this.centerX=e,this.centerY=t,this.color=color[Math.floor(Math.random()*color.length+1)],this.velocityX=h*Math.random(),this.velocityY=r*Math.random(),this.gravity=10,this.minRad=this.rad,this.maxRad=2*this.rad};Ball.prototype.popUp=function(){var t=Math.pow(mouseX-this.centerX,2),e=Math.pow(mouseY-this.centerY,2),i=Math.sqrt(t+e);return i<120&&i>0?(this.rad=this.maxRad,this):(this.rad=this.minRad,this)},Ball.prototype.drow=function(){return c.arc(this.centerX,this.centerY,this.rad,0,2*Math.PI),c.arc(this.centerX,this.centerY,2,0,2*Math.PI),c.fillStyle=this.color,c.fill(),c.beginPath(),this},Ball.prototype.initialValiditor=function(){(this.centerX+this.rad>width||this.centerX-this.rad<0)&&(this.centerX=10*this.rad),(this.centerY+this.rad>height||this.centerY-this.rad<0)&&(this.centerY=10*this.rad)},Ball.prototype.clear=function(){return c.save(),c.globalCompositeOperation="ligher",c.arc(this.centerX,this.centerY,this.rad+1,0,2*Math.PI),c.fillStyle="#FFF",c.fill(),c.beginPath(),c.restore(),this},Ball.prototype.speedValiditor=function(){(this.centerX+this.rad>width||this.centerX-this.rad<0)&&(this.velocityX=-this.velocityX),(this.centerY+this.rad>height||this.centerY-this.rad<0)&&(this.velocityY=-this.velocityY)},Ball.prototype.update=function(){return this.centerX+=this.velocityX,this.centerY+=this.velocityY,this.speedValiditor(),this.drow().popUp(),this};var ballsNumber,log=[];function ballCreator(t){for(var e=0;e<t;e++){var i=width*Math.random()*2,h=width*Math.random()*2,r=50*Math.random()+1,l=new Ball(i,h,r,dx,dy);l.initialValiditor(),log.push(l)}ballsNumber=log.length}var quee=null;function live(){quee=requestAnimationFrame(live),c.clearRect(0,0,width,height);for(var t=0;t<ballsNumber;t++)log[t].update().drow().popUp()}ballCreator(300),live();var yes=document.querySelector("#number"),boo=document.querySelector("#canvasstarter");boo.onclick=function(t){null!=quee&&window.cancelAnimationFrame(quee),log=[],dy=15,dx=15,number=yes.value,ballCreator(number),live()};